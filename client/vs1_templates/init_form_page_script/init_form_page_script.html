<template name="init_form_page_script">
    <script>
        $(document).ready(function () {
            localStorage.setItem("isFormUpdated", false);
            // sessionStorage.setItem("pageLoaded", true);

            setTimeout(() => {
                $(document).on("change", "form input, form select, form textarea, #form input, #form select, #form textarea", function() {
                    localStorage.setItem("isFormUpdated", true);
                });

                $(document).on("keyup", "form input, form textarea, #form input, #form textarea", function() {
                    localStorage.setItem("isFormUpdated", true);
                });

                if (window.location.pathname == "/newbankrule" || window.location.pathname == "/customerscard"
                        || window.location.pathname == "/employeescard" || window.location.pathname == "/leadscard"
                        || window.location.pathname == "/supplierscard" || window.location.pathname == "/allreports") {
                    $(document).on("change", "input, select, textarea", function() {
                        localStorage.setItem("isFormUpdated", true);
                    });

                    $(document).on("keyup", "input, textarea, input, textarea", function() {
                        localStorage.setItem("isFormUpdated", true);
                    });
                }
            }, 3000);

            if (window.location.pathname == "/stockadjustmentcard") {
                $(".btnProcess").click(function () {
                    localStorage.setItem("isFormUpdated", false);
                });
            } else if (window.location.pathname == "/allreports") {
                $(".btnBatchUpdate").click(function () {
                    localStorage.setItem("isFormUpdated", false);
                });
            }
            else {
                $(".btnSave").click(function () {
                    localStorage.setItem("isFormUpdated", false);
                });
            }
        });
    </script>
</template>
